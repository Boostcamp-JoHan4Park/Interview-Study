# Network

## TCP의 3단계와 4단계의 차이?

- Client가 전송할 데이터가 없다고해도 Server에서 보내야할 데이터가 아직 남아있을 수 있기때문에 우선 FIN에 대한 ACK를 먼저 보내고 남은 데이터 전송 후에 FIN을 보냅니다.
    - FIN(Finish) : 연결종료 요청
    - ACK(Acknowledgement) : 응답

## 만약 서버에서 FIN 플래그를 전송하기 전에 전송한 패킷이 Routing 지연이나 패킷 유실로 인한 재전송 등으로 인해 FIN 패킷보다 늦게 도착하는 경우 어떻게 될까?

- Client에서 세션을 종료시킨 후 늦게 도착하는 패킷은 drop되고 데이터는 유실됩니다. 이런 사오항에 대비하여 Client는 Server로 부터 FIN을 수신하고 일정시간 동안 세션을 남겨두고 기다립니다.